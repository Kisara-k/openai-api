def clean(text):
  # replace --- with nothing
  return text.replace('---', '').replace('\n#', '\n##')

system_prompt = """
You are ChatGPT, an advanced language model developed by OpenAI, based on the GPT-4 architecture. You are helpful, honest, and harmless. Your knowledge is current up to **June 2024**, and today's date is **July 6, 2025**.

**Your objectives are:**

- **Help the user effectively.** Provide useful, accurate, and relevant information. Prioritize clarity, precision, and completeness in your answers.
- **Be honest about your limitations.** If you don’t know something or your knowledge is outdated, say so clearly.
- **Follow user instructions.** Adjust your tone, style, and format to match what the user asks, unless it conflicts with  truthfulness.
- **Be natural and professional.** Write in a warm, respectful, and articulate tone. Avoid robotic or overly formal language unless requested.
- **Think step-by-step.** When solving problems, especially involving reasoning, calculations, or coding, break them down into logical steps.
- **Ground your answers.** When possible, cite sources, show reasoning, or explain how you arrived at your conclusions.
- **Avoid hallucination.** Don't make up facts. If uncertain, say so, or provide an informed guess clearly labeled as such.

**You are capable of:**

* Answering complex questions
* Writing and editing code
* Helping with writing, research, and analysis
* Supporting creative and technical tasks
* Parsing and generating images when requested
* Adapting tone and personality for different user needs

Always maintain a professional, clear, and helpful demeanor. You are here to assist, not to judge, speculate excessively, or take strong stances unless well-supported.
"""

user_prompt_1 = """
Create a detailed, introductory understandable study note based on the following lecture content, make sure it's well organized, ADD CONTENTT AND DETAIL, and is clear and detailed. Explain key concepts clearly and in words. Do not leave anything out that's in the lecture content. Structured liek a note, not just a list of points. Each section must have a in word introduction. Don't use overly academic tone. 

Be VERY DETAILED in each of your explanations. Prefer clear, in-word explanations over brevity. Use emojis in main headings for clarity. Number main headings like 1. [Emoji] Heading. Don't use too many sub headings.

lecture content:

"""

user_prompt_2 = """
Hence, create a complete comprehensive lecture that is well structured and clearly introduces and explains this whole topic. Do not include headings.

Your task is to narrate the lecture in natural language spoken paragraph form. Don't prefix of suffix it with anything, just the lecture. Make sure to maintain a relatable, intuitive, and introductory tone that encourages engagement and curiosity. Don't use overly flowery language.
"""

user_prompt_3 = """
Hence, write 20 multiple choice questions that comprehensively cover this topic (each question 1 or more correct answer). Don't mark answers. Make sure to cover all the key concepts and ideas in the lecture content. Each question should be clear and concise. Include tricky and difficult questions.
"""

lecture_content = """CS3621: Data Mining Introduction. Slides based on Data Mining: Concepts and Techniques, 3rd ed. Jiawei Han, Micheline Kamber, and Jian Pei University of Illinois at Urbana-Champaign & Simon Fraser University ©2011 Han, Kamber & Pei. All rights reserved. Course Outline Module Code CS 3621 Module Title Data Mining Credits 3.0 Hours/ Week Lectures Pre - requisites Introduction to Data Science GPA/NGPA GPA. Lab/Assignm ents •ILO1: recall the basic fundamental concepts involved in the process of discovering useful, possibly unexpected, patterns in large data sets •ILO2: select appropriate techniques for data mining, considering the given problem •ILO3: analyse the computational challenges in implementing modern data mining systems. •ILO4: evaluate and implement appropriate solution for a given data mining problem from a wide array of application domains and communicate. Outline Syllabus T1. Introduction to Data Mining and Applications [ILO1] T2. Pattern Mining [ILO 1,2,3] T3. Time Series Mining and Forecasting [ILO 1,2,3] T4. Clustering and Cluster Evaluation [ILO 1,2,3] T5. Outlier Analysis [ILO 1,2,3] T6. Introduction to NoSQL Databases [ILO 1,3] T7. Data Warehouses and Data Lakes [ILO 3,4] T8. Datacubes and Online Analytical Processing [ILO 3,4] T9. Introduction to Information Retrieval [ILO 1,4] T10. Data Mining and Society [ILO 1,4] Final Evaluation Category % on Final Grade Quizzes Assignments Mid Semester Quiz Final Exam Lecture Panel 1. Dr. Thanuja Ambegoda 2. Dr. Sapumal Ahangama 3. Dr. Buddhika Karunaratne Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Why Data Mining? The Explosive Growth of Data: from terabytes to petabytes ◼Data collection and data availability ◼Automated data collection tools, database systems, Web, computerized society ◼Major sources of abundant data ◼Business: Web, e-commerce, transactions, stocks, ... ◼Science: Remote sensing, bioinformatics, scientific simulation, ... ◼Society and everyone: news, digital cameras, YouTube We are drowning in data, but starving for knowledge! “Necessity is the mother of invention”-Data mining-Automated analysis of massive data sets Evolution of Sciences Before 1600, empirical science 1600-1950s, theoretical science Each discipline has grown a theoretical component. Theoretical models often motivate experiments and generalize our understanding. 1950s-1990s, computational science Over the last 50 years, most disciplines have grown a third, computational branch (e.g. empirical, theoretical, and computational ecology, or physics, or linguistics.) Computational Science traditionally meant simulation. It grew out of our inability to find closed-form solutions for complex mathematical models. 1990-now, data science The flood of data from new scientific instruments and simulations The ability to economically store and manage petabytes of data online The Internet and computing Grid that makes all these archives universally accessible Scientific info. management, acquisition, organization, query, and visualization tasks scale almost linearly with data volumes. Data mining is a major new challenge! Jim Gray and Alex Szalay, The World Wide Telescope: An Archetype for Online Science, Comm. ACM, 45(11): 50-54, Nov. 2002 Evolution of Database Technology 1960s: Data collection, database creation, IMS and network DBMS 1970s: Relational data model, relational DBMS implementation 1980s: RDBMS,. advanced data models (extended-relational, OO, deductive, etc.) Application-oriented DBMS (spatial, scientific, engineering, etc.) 1990s: Data mining, data warehousing, multimedia databases, and Web databases 2000s Stream data management and mining Data mining and its applications Web technology (XML, data integration) and global information systems Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary What Is Data Mining? ◼Data mining (knowledge discovery from data) ◼Extraction of interesting (non-trivial, implicit, previously unknown and potentially useful) patterns or knowledge from huge amount of data ◼Data mining: a misnomer? ◼Alternative names ◼Knowledge discovery (mining) in databases (KDD), knowledge extraction, data/pattern analysis, data archeology, data dredging, information harvesting, business intelligence, etc. ◼Watch out: Is everything “data mining”? ◼Simple search and query processing ◼(Deductive) expert systems Knowledge Discovery (KDD) Process This is a view from typical database systems and data warehousing communities Data mining plays an essential role in the knowledge discovery process Data Cleaning Data Integration Databases Data Warehouse Task-relevant Data Selection Data Mining Pattern Evaluation Example: A Web Mining Framework ◼Web mining usually involves ◼Data cleaning ◼Data integration from multiple sources ◼Warehousing the data ◼Data cube construction ◼Data selection for data mining ◼Data mining ◼Presentation of the mining results ◼Patterns and knowledge to be used or stored into knowledge-base Data Mining in Business Intelligence Increasing potential to support business decisions End User Business Analyst Data Analyst DBA Decision Making Data Presentation Visualization Techniques Data Mining Information Discovery Data Exploration Statistical Summary, Querying, and Reporting Data Preprocessing/Integration, Data Warehouses Data Sources Paper, Files, Web documents, Scientific experiments, Database Systems Example: Mining vs. Data Exploration ◼Business intelligence view ◼Warehouse, data cube, reporting but not much mining ◼Business objects vs. data mining tools ◼Supply chain example: tools ◼Data presentation ◼Exploration KDD Process: A Typical View from ML and Statistics Input Data Data Mining Data Pre- Processing Post- Processing This is a view from typical machine learning and statistics communities Data integration Normalization Feature selection Dimension reduction Pattern discovery Association & correlation Classification Clustering Outlier analysis ......... Pattern evaluation Pattern selection Pattern interpretation Pattern visualization Example: Medical Data Mining ◼Health care & medical data mining - often adopted such a view in statistics and machine learning ◼Preprocessing of the data (including feature extraction and dimension reduction) ◼Classification or/and clustering processes ◼Post-processing for presentation Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Multi-Dimensional View of Data Mining Data to be mined ◼Database data (extended-relational, object-oriented, heterogeneous, legacy), data warehouse, transactional data, stream, spatiotemporal, time-series, sequence, text and web, multi-media, graphs & social and information networks Knowledge to be mined (or: Data mining functions) ◼Characterization, discrimination, association, classification, clustering, trend/deviation, outlier analysis, etc. ◼Descriptive vs. predictive data mining ◼Multiple/integrated functions and mining at multiple levels Techniques utilized ◼Data-intensive, data warehouse (OLAP), machine learning, statistics, pattern recognition, visualization, high-performance, etc. Applications adapted ◼Retail, telecommunication, banking, fraud analysis, bio-data mining, stock market analysis, text mining, Web mining, etc. Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Data Mining: On What Kinds of Data? Database-oriented data sets and applications Relational database, data warehouse, transactional database Advanced data sets and advanced applications Data streams and sensor data Time-series data, temporal data, sequence data (incl. bio-sequences) Structure data, graphs, social networks and multi-linked data Object-relational databases Heterogeneous databases and legacy databases Spatial data and spatiotemporal data Multimedia database Text databases The World-Wide Web Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Data Mining Function: (1) Generalization ◼Information integration and data warehouse construction ◼Data cleaning, transformation, integration, and multidimensional data model ◼Data cube technology ◼Scalable methods for computing (i.e., materializing) multidimensional aggregates ◼OLAP (online analytical processing) ◼Multidimensional concept description: Characterization and discrimination ◼Generalize, summarize, and contrast data characteristics, e.g., dry vs. wet region Data Mining Function: (2) Association and Correlation Analysis ◼Frequent patterns (or frequent itemsets) ◼What items are frequently purchased together in your Walmart? ◼Association, correlation vs. causality ◼A typical association rule ◼Diaper → Beer [0.5%, 75%] (support, confidence) ◼Are strongly associated items also strongly correlated? ◼How to mine such patterns and rules efficiently in large datasets? ◼How to use such patterns for classification, clustering, and other applications? Data Mining Function: (3) Classification Classification and label prediction ◼Construct models (functions) based on some training examples ◼Describe and distinguish classes or concepts for future prediction ◼E.g., classify countries based on (climate), or classify cars based on (gas mileage) ◼Predict some unknown class labels Typical methods ◼Decision trees, naïve Bayesian classification, support vector machines, neural networks, rule-based classification, pattern- based classification, logistic regression, ... Typical applications: ◼Credit card fraud detection, direct marketing, classifying stars, diseases, web-pages, ... blue Yellow Data Mining Function: (4) Cluster Analysis ◼Unsupervised learning (i.e., Class label is unknown) ◼Group data to form new categories (i.e., clusters), e.g., cluster houses to find distribution patterns ◼Principle: Maximizing intra-class similarity & minimizing interclass similarity ◼Many methods and applications Data Mining Function: (5) Outlier Analysis Outlier analysis ◼Outlier: A data object that does not comply with the general behavior of the data ◼Noise or exception? ― One person's garbage could be another person's treasure ◼Methods: by product of clustering or regression analysis, ... ◼Useful in fraud detection, rare events analysis Time and Ordering: Sequential Pattern, Trend and Evolution Analysis ◼Sequence, trend and evolution analysis ◼Trend, time-series, and deviation analysis: e.g., regression and value prediction ◼Sequential pattern mining ◼e.g., first buy digital camera, then buy large SD memory cards ◼Periodicity analysis ◼Motifs and biological sequence analysis ◼Approximate and consecutive motifs ◼Similarity-based analysis ◼Mining data streams ◼Ordered, time-varying, potentially infinite, data streams Structure and Network Analysis Graph mining ◼Finding frequent subgraphs (e.g., chemical compounds), trees (XML), substructures (web fragments) Information network analysis ◼Social networks: actors (objects, nodes) and relationships (edges) ◼e.g., author networks in CS, terrorist networks ◼Multiple heterogeneous networks ◼A person could be multiple information networks: friends, family, classmates, ... ◼Links carry a lot of semantic information: Link mining Web mining ◼Web is a big information network: from PageRank to Google ◼Analysis of Web information networks ◼Web community discovery, opinion mining, usage mining, ... Evaluation of Knowledge ◼Are all mined knowledge interesting? ◼One can mine tremendous amount of “patterns” and knowledge ◼Some may fit only certain dimension space (time, location, ...) ◼Some may not be representative, may be transient, ... ◼Evaluation of mined knowledge → directly mine only interesting knowledge? ◼Descriptive vs. predictive ◼Coverage ◼Typicality vs. novelty ◼Accuracy ◼Timeliness Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Data Mining: Confluence of Multiple Disciplines Data Mining Machine Learning Statistics Applications Algorithm Pattern Recognition High-Performance Computing Visualization Database Technology Why Confluence of Multiple Disciplines? ◼Tremendous amount of data ◼Algorithms must be highly scalable to handle such as tera-bytes of data ◼High-dimensionality of data ◼Micro-array may have tens of thousands of dimensions ◼High complexity of data ◼Data streams and sensor data ◼Time-series data, temporal data, sequence data ◼Structure data, graphs, social networks and multi-linked data ◼Heterogeneous databases and legacy databases ◼Spatial, spatiotemporal, multimedia, text and Web data ◼Software programs, scientific simulations ◼New and sophisticated applications Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Applications of Data Mining Web page analysis: from web page classification, clustering to PageRank & HITS algorithms Collaborative analysis & recommender systems Basket data analysis to targeted marketing Biological and medical data analysis: classification, cluster analysis (microarray data analysis), biological sequence analysis, biological network analysis Data mining and software engineering (e.g., IEEE Computer, Aug. 2009 issue) From major dedicated data mining systems/tools (e.g., SAS, MS SQL-. Server Analysis Manager, Oracle Data Mining Tools) to invisible data mining Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Major Issues in Data Mining (1) Mining Methodology ◼Mining various and new kinds of knowledge ◼Mining knowledge in multi-dimensional space ◼Data mining: An interdisciplinary effort ◼Boosting the power of discovery in a networked environment ◼Handling noise, uncertainty, and incompleteness of data ◼Pattern evaluation and pattern- or constraint-guided mining User Interaction ◼Interactive mining ◼Incorporation of background knowledge ◼Presentation and visualization of data mining results Major Issues in Data Mining (2) Efficiency and Scalability ◼Efficiency and scalability of data mining algorithms ◼Parallel, distributed, stream, and incremental mining methods Diversity of data types ◼Handling complex types of data ◼Mining dynamic, networked, and global data repositories Data mining and society ◼Social impacts of data mining ◼Privacy-preserving data mining ◼Invisible data mining Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary A Brief History of Data Mining Society 1989 IJCAI. Workshop on Knowledge Discovery in Databases Knowledge Discovery in Databases (G. Piatetsky-Shapiro and W. Frawley, 1991) 1991-1994 Workshops on Knowledge Discovery in Databases Advances in Knowledge Discovery and Data Mining (U. Fayyad, G. Piatetsky-Shapiro, P. Smyth, and R. Uthurusamy, 1996) 1995-1998 International Conferences on Knowledge Discovery in Databases and Data Mining (KDD'95-98) Journal of Data Mining and Knowledge Discovery (1997) ACM SIGKDD. conferences since 1998 and SIGKDD. Explorations More conferences on data mining PAKDD. ( 1997), PKDD (1997), SIAM-Data Mining (2001), (IEEE) ICDM. ( 2001), etc. ACM Transactions on KDD starting in 2007 Conferences and Journals on Data Mining KDD Conferences ACM SIGKDD. Int. Conf. on Knowledge Discovery in Databases and Data Mining (KDD) SIAM. Data Mining Conf. (SDM) (IEEE). Int. Conf. on Data Mining (ICDM) European Conf. on Machine Learning and Principles and practices of Knowledge Discovery and Data Mining (ECML-PKDD). Pacific-Asia Conf. on Knowledge Discovery and Data Mining (PAKDD). Int. Conf. on Web Search and Data Mining (WSDM) Other related conferences DB conferences: ACM SIGMOD, VLDB, ICDE, EDBT, ICDT. , ... Web and IR conferences: WWW, SIGIR, WSDM ML. conferences: ICML, NIPS PR. conferences: CVPR, Journals Data Mining and Knowledge Discovery (DAMI or DMKD) IEEE. Trans. On Knowledge and Data Eng. (TKDE) KDD. Explorations ACM Trans. on KDD Where to Find References? DBLP, CiteSeer, Google Data mining and KDD (SIGKDD: CDROM). Conferences: ACM-SIGKDD, IEEE-ICDM, SIAM-DM, PKDD, PAKDD,. etc. Journal: Data Mining and Knowledge Discovery, KDD Explorations, ACM TKDD. Database systems (SIGMOD: ACM SIGMOD. Anthology-CD ROM). Conferences: ACM-SIGMOD, ACM-PODS, VLDB, IEEE-ICDE, EDBT, ICDT, DASFAA. Journals: IEEE-TKDE, ACM-TODS/TOIS, JIIS,. J. ACM, VLDB. J., Info. Sys., etc. AI & Machine Learning Conferences: Machine learning (ML), AAAI, IJCAI, COLT. ( Learning Theory), CVPR, NIPS,. etc. Journals: Machine Learning, Artificial Intelligence, Knowledge and Information Systems, IEEE-PAMI,. etc. Web and IR Conferences: SIGIR, WWW, CIKM,. etc. Journals: WWW: Internet and Web Information Systems, Statistics Conferences: Joint Stat. Meeting, etc. Journals: Annals of statistics, etc. Visualization Conference proceedings: CHI, ACM-. SIGGraph, etc. Journals: IEEE Trans. visualization and computer graphics, etc. Chapter 1. Introduction Why Data Mining? What Is Data Mining? A Multi-Dimensional View of Data Mining What Kind of Data Can Be Mined? What Kinds of Patterns Can Be Mined? What Technology Are Used? What Kind of Applications Are Targeted? Major Issues in Data Mining A Brief History of Data Mining and Data Mining Society Summary Summary Data mining: Discovering interesting patterns and knowledge from massive amount of data A natural evolution of database technology, in great demand, with wide applications A KDD process includes data cleaning, data integration, data selection, transformation, data mining, pattern evaluation, and knowledge presentation Mining can be performed in a variety of data Data mining functionalities: characterization, discrimination, association, classification, clustering, outlier and trend analysis, etc. Data mining technologies and applications Major issues in data mining" """